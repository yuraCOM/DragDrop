{"ast":null,"code":"var _jsxFileName = \"E:\\\\REACT\\\\DragDrop\\\\src\\\\AddMyTrello\\\\AddMyTrello.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Board from './Board';\nimport './AddMyTrelloStyle.css';\nimport Item from './Item';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddMyTrello = () => {\n  _s();\n\n  const [boards, setBoards] = useState([{\n    id: 1,\n    title: \"Сделать\",\n    items: [{\n      id: 1,\n      title: \"Пойти в магазин\"\n    }, {\n      id: 2,\n      title: \"Пойти в спортзал\"\n    }, {\n      id: 3,\n      title: \"Покормить кота\"\n    }]\n  }, {\n    id: 2,\n    title: \"Проверить\",\n    items: [{\n      id: 4,\n      title: \"Проверить уроки\"\n    }, {\n      id: 5,\n      title: \"Задачи по математике\"\n    }, {\n      id: 6,\n      title: \"Коммунальные платежи\"\n    }]\n  }, {\n    id: 3,\n    title: \"Сделано\",\n    items: [{\n      id: 7,\n      title: \"Поменять резину\"\n    }, {\n      id: 8,\n      title: \"Приготовить ужин\"\n    }, {\n      id: 9,\n      title: \"Постирать вещи\"\n    }]\n  }]);\n  const [currentBoard, setCurrentBoard] = useState(null);\n  const [cureentItem, setCureentItem] = useState(null); //функции для доски\n\n  function dropCardHandler(e, board) {\n    console.log(boards);\n    board.items.push(cureentItem);\n    const currentIndex = currentBoard.items.indexOf(cureentItem);\n    currentBoard.items.splice(currentIndex, 1);\n    setBoards(boards.map(b => {\n      if (b.id === board.id) {\n        return board;\n      }\n\n      if (b.id === currentBoard.id) {\n        return currentBoard;\n      }\n\n      return b;\n    }));\n  } //функции для итемов\n\n\n  function dragOverHandler(e) {\n    e.preventDefault();\n\n    if (e.target.className === \"item\") {\n      e.target.style.boxShadow = '0 5px 3px #673ab7 ';\n    }\n  }\n\n  function dragStartHandler(e, board, item) {\n    setCurrentBoard(board);\n    setCureentItem(item);\n  }\n\n  function dragLeaveHandler(e) {\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dragEndHandler(e) {\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dropHandler(e, board, item) {\n    e.preventDefault(); // индекс карточки которую держим\n\n    const currentIndex = currentBoard.items.indexOf(cureentItem);\n    currentBoard.items.splice(currentIndex, 1); //индекс карточки над которой держим \n\n    const dropIndex = board.items.indexOf(item);\n    board.items.splice(dropIndex + 1, 0, cureentItem);\n    setBoards(boards.map(b => {\n      if (b.id === board.id) {\n        return board;\n      }\n\n      if (b.id === currentBoard.id) {\n        return currentBoard;\n      }\n\n      return b;\n    }));\n  }\n\n  let allProps = {\n    currentBoard: {\n      currentBoard\n    },\n    cureentItem: {\n      cureentItem\n    },\n    setCurrentBoard: {\n      setCurrentBoard\n    },\n    setBoards: {\n      setBoards\n    },\n    boards: {\n      boards\n    },\n    setCureentItem: {\n      setCureentItem\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"appTrello\",\n    children: boards.map((board, index) => /*#__PURE__*/_jsxDEV(Board, {\n      // board={board}\n      // index={index}\n      allProps: { ...allProps,\n        board,\n        index\n      },\n      ... /*#__PURE__*/_jsxDEV(Item, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }, this)\n    }, index + 'Board', false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddMyTrello, \"yoeNToO7eEzMKhNY7sZjZcQBhYE=\");\n\n_c = AddMyTrello;\nexport default AddMyTrello; //https://www.youtube.com/watch?v=RPtDuVba1XQ&list=PL6DxKON1uLOENy8yYgn0uLwB6p8eAW9NZ&index=4\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMyTrello\");","map":{"version":3,"names":["React","useEffect","useState","Board","Item","AddMyTrello","boards","setBoards","id","title","items","currentBoard","setCurrentBoard","cureentItem","setCureentItem","dropCardHandler","e","board","console","log","push","currentIndex","indexOf","splice","map","b","dragOverHandler","preventDefault","target","className","style","boxShadow","dragStartHandler","item","dragLeaveHandler","dragEndHandler","dropHandler","dropIndex","allProps","index"],"sources":["E:/REACT/DragDrop/src/AddMyTrello/AddMyTrello.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Board from './Board'\r\nimport './AddMyTrelloStyle.css'\r\nimport Item from './Item'\r\n\r\nconst AddMyTrello = () => {\r\n    const [boards, setBoards] = useState([\r\n        { id: 1, title: \"Сделать\", items: [{ id: 1, title: \"Пойти в магазин\" }, { id: 2, title: \"Пойти в спортзал\" }, { id: 3, title: \"Покормить кота\" }] },\r\n        { id: 2, title: \"Проверить\", items: [{ id: 4, title: \"Проверить уроки\" }, { id: 5, title: \"Задачи по математике\" }, { id: 6, title: \"Коммунальные платежи\" }] },\r\n        { id: 3, title: \"Сделано\", items: [{ id: 7, title: \"Поменять резину\" }, { id: 8, title: \"Приготовить ужин\" }, { id: 9, title: \"Постирать вещи\" }] },\r\n\r\n    ])\r\n\r\n    const [currentBoard, setCurrentBoard] = useState(null)\r\n    const [cureentItem, setCureentItem] = useState(null)\r\n\r\n\r\n    //функции для доски\r\n    function dropCardHandler(e, board) {\r\n        console.log(boards);\r\n        board.items.push(cureentItem)\r\n        const currentIndex = currentBoard.items.indexOf(cureentItem)\r\n        currentBoard.items.splice(currentIndex, 1)\r\n        setBoards(boards.map(b => {\r\n            if (b.id === board.id) {\r\n                return board\r\n            }\r\n            if (b.id === currentBoard.id) {\r\n                return currentBoard\r\n            }\r\n            return b\r\n        }\r\n        ))\r\n\r\n    }\r\n\r\n    //функции для итемов\r\n    function dragOverHandler(e) {\r\n        e.preventDefault()\r\n        if (e.target.className === \"item\") {\r\n            e.target.style.boxShadow = '0 5px 3px #673ab7 '\r\n        }\r\n    }\r\n\r\n    function dragStartHandler(e, board, item) {\r\n        setCurrentBoard(board)\r\n        setCureentItem(item)\r\n    }\r\n\r\n\r\n    function dragLeaveHandler(e) {\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dragEndHandler(e) {\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dropHandler(e, board, item) {\r\n        e.preventDefault()\r\n        // индекс карточки которую держим\r\n        const currentIndex = currentBoard.items.indexOf(cureentItem)\r\n        currentBoard.items.splice(currentIndex, 1)\r\n        //индекс карточки над которой держим \r\n        const dropIndex = board.items.indexOf(item)\r\n        board.items.splice(dropIndex + 1, 0, cureentItem)\r\n        setBoards(boards.map(b => {\r\n            if (b.id === board.id) {\r\n                return board\r\n            }\r\n            if (b.id === currentBoard.id) {\r\n                return currentBoard\r\n            }\r\n            return b\r\n        }\r\n        ))\r\n\r\n\r\n    }\r\n\r\n    let allProps = {\r\n        currentBoard: { currentBoard },\r\n        cureentItem: { cureentItem },\r\n        setCurrentBoard: { setCurrentBoard },\r\n        setBoards: { setBoards },\r\n        boards: { boards },\r\n        setCureentItem: { setCureentItem }\r\n    }\r\n\r\n    return (\r\n        <div className='appTrello'>\r\n            {/* {boards.map((board, index) =>\r\n                <div\r\n                    className='board'\r\n                    key={index + 'b'}\r\n                    onDragOver={(e) => { dragOverHandler(e) }}\r\n                    onDrop={(e) => { dropCardHandler(e, board) }}\r\n\r\n                >\r\n                    <div className=\"board_title\" key={index * .555}>{board.title}</div>\r\n\r\n                    {board.items.map((item, index) =>\r\n                        <div\r\n                            className=\"item\"\r\n                            key={index + \"i\"}\r\n                            draggable={true}\r\n                            onDragOver={(e) => { dragOverHandler(e) }}\r\n                            onDragLeave={(e) => { dragLeaveHandler(e) }}\r\n                            onDragStart={(e) => { dragStartHandler(e, board, item) }}\r\n                            onDragEnd={(e) => { dragEndHandler(e) }}\r\n                            onDrop={(e) => { dropHandler(e, board, item) }}\r\n                        >{item.title}</div>\r\n                    )}\r\n\r\n\r\n                </div>\r\n            )} */}\r\n\r\n            {boards.map((board, index) =>\r\n                <Board\r\n                    key={index + 'Board'}\r\n                    // board={board}\r\n                    // index={index}\r\n                    allProps={{ ...allProps, board, index }}\r\n                    {...<Item></Item>}\r\n                >\r\n\r\n                    {/* currentBoard={currentBoard}\r\n                    cureentItem={cureentItem}\r\n                    setCurrentBoard={setCurrentBoard}\r\n                    setBoards={setBoards}\r\n                    boards={boards}\r\n                    setCureentItem={setCureentItem} */}\r\n                </Board>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddMyTrello\r\n\r\n\r\n\r\n\r\n//https://www.youtube.com/watch?v=RPtDuVba1XQ&list=PL6DxKON1uLOENy8yYgn0uLwB6p8eAW9NZ&index=4\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}