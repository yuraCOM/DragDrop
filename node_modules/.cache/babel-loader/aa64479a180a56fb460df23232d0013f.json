{"ast":null,"code":"var _jsxFileName = \"E:\\\\REACT\\\\DragDrop\\\\src\\\\AddMyTrello\\\\Board.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Item from './Item';\nimport AddModalTodo from './ModalAddTodo/AddModalTodo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Board = props => {\n  _s();\n\n  const [TodoModal, setTodoModal] = useState(false);\n  const [todo, setTodo] = useState(null);\n  let board = props.board;\n  let currentBoard = props.currentBoard;\n  let cureentItem = props.cureentItem;\n  let boards = props.boards;\n  let setBoards = props.setBoards;\n\n  function dropCardHandler(e, board) {\n    board.items.push(cureentItem);\n    const currentIndex = currentBoard.items.indexOf(cureentItem); // console.log('board', board, 'cureentItem', cureentItem, 'currentBoard', currentBoard);\n    // console.log(currentIndex);\n\n    currentBoard.items.splice(currentIndex, 1);\n    setBoards(boards.map(b => {\n      if (b.id === board.id) {\n        return board;\n      }\n\n      if (b.id === currentBoard.id) {\n        return currentBoard;\n      }\n\n      return b;\n    }));\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dragOverHandler(e) {\n    e.preventDefault();\n\n    if (e.target.className === \"item\") {\n      e.target.style.boxShadow = '0 5px 3px #673ab7 ';\n    }\n  }\n\n  function delBoard(board) {\n    let del = window.confirm(\"Удалить?\");\n\n    if (del) {\n      const currentIndex = boards.indexOf(board);\n      boards.splice(currentIndex, 1);\n      setBoards(boards.map(b => {\n        return b;\n      }));\n    }\n  }\n\n  function addTodo() {\n    if (todo) {\n      board.items.push(todo);\n    } else {\n      return false;\n    }\n\n    setTodoModal(false);\n    console.log(board);\n  }\n\n  function delTodo(board, item) {\n    console.log(board); //индекс удаленного дела\n\n    const todoIndex = board.items.indexOf(item);\n    board.items.splice(todoIndex, 1); // board.items.map(item => item)\n    // console.log(board);\n    // console.log(props.boards);\n    // let freshBoards = props.boards.slice()\n    // console.log(freshBoards);\n    // props.setBoards(freshBoards)\n    // let data = JSON.stringify(props.boards);\n    // localStorage.setItem('boards', data);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AddModalTodo, {\n      TodoModal: TodoModal,\n      setTodoModal: setTodoModal,\n      todo: todo,\n      setTodo: setTodo,\n      addTodo: addTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `card text-white bg-${board.background} mb-3`,\n      style: {\n        maxWidth: '20rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"headCard\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge rounded-pill bg-success\",\n          onClick: () => setTodoModal(true),\n          children: \"+Todo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: !board.title ? 'Без Заголовка' : board.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        onDragOver: e => {\n          dragOverHandler(e);\n        },\n        onDrop: e => {\n          dropCardHandler(e, board);\n        },\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          props: props,\n          delTodo: delTodo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"badge bg-danger\",\n        onClick: e => delBoard(board),\n        children: \"DelBoard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Board, \"UWuBD2zw50ymIFIEDTmmqb0Vlls=\");\n\n_c = Board;\nexport default Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","Item","AddModalTodo","Board","props","TodoModal","setTodoModal","todo","setTodo","board","currentBoard","cureentItem","boards","setBoards","dropCardHandler","e","items","push","currentIndex","indexOf","splice","map","b","id","target","style","boxShadow","dragOverHandler","preventDefault","className","delBoard","del","window","confirm","addTodo","console","log","delTodo","item","todoIndex","background","maxWidth","title"],"sources":["E:/REACT/DragDrop/src/AddMyTrello/Board.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Item from './Item'\r\nimport AddModalTodo from './ModalAddTodo/AddModalTodo'\r\n\r\n\r\nconst Board = (props) => {\r\n\r\n    const [TodoModal, setTodoModal] = useState(false)\r\n    const [todo, setTodo] = useState(null)\r\n\r\n    let board = props.board\r\n    let currentBoard = props.currentBoard\r\n\r\n    let cureentItem = props.cureentItem\r\n    let boards = props.boards\r\n    let setBoards = props.setBoards\r\n\r\n\r\n    function dropCardHandler(e, board) {\r\n        board.items.push(cureentItem)\r\n        const currentIndex = currentBoard.items.indexOf(cureentItem)\r\n        // console.log('board', board, 'cureentItem', cureentItem, 'currentBoard', currentBoard);\r\n        // console.log(currentIndex);\r\n        currentBoard.items.splice(currentIndex, 1)\r\n        setBoards(boards.map(b => {\r\n            if (b.id === board.id) {\r\n                return board\r\n            }\r\n            if (b.id === currentBoard.id) {\r\n                return currentBoard\r\n            }\r\n            return b\r\n        }\r\n        ))\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dragOverHandler(e) {\r\n        e.preventDefault()\r\n        if (e.target.className === \"item\") {\r\n            e.target.style.boxShadow = '0 5px 3px #673ab7 '\r\n        }\r\n    }\r\n\r\n    function delBoard(board) {\r\n        let del = window.confirm(\"Удалить?\");\r\n        if (del) {\r\n            const currentIndex = boards.indexOf(board)\r\n            boards.splice(currentIndex, 1)\r\n            setBoards(boards.map(b => {\r\n                return b\r\n            }\r\n            ))\r\n        }\r\n    }\r\n\r\n    function addTodo() {\r\n        if (todo) {\r\n            board.items.push(todo)\r\n        } else {\r\n            return false\r\n        }\r\n        setTodoModal(false)\r\n        console.log(board);\r\n    }\r\n\r\n    function delTodo(board, item) {\r\n        console.log(board);\r\n\r\n        //индекс удаленного дела\r\n        const todoIndex = board.items.indexOf(item)\r\n        board.items.splice(todoIndex, 1)\r\n\r\n        // board.items.map(item => item)\r\n        // console.log(board);\r\n        // console.log(props.boards);\r\n\r\n        // let freshBoards = props.boards.slice()\r\n        // console.log(freshBoards);\r\n        // props.setBoards(freshBoards)\r\n\r\n        // let data = JSON.stringify(props.boards);\r\n        // localStorage.setItem('boards', data);\r\n    }\r\n\r\n    return (\r\n\r\n        <div>\r\n            <AddModalTodo TodoModal={TodoModal} setTodoModal={setTodoModal}\r\n                todo={todo} setTodo={setTodo} addTodo={addTodo}\r\n            ></AddModalTodo>\r\n\r\n            <div className={`card text-white bg-${board.background} mb-3`}\r\n                style={{ maxWidth: '20rem' }}\r\n            >\r\n                <div className='headCard'>\r\n                    <span className=\"badge rounded-pill bg-success\" onClick={() => setTodoModal(true)}>+Todo</span>\r\n                    <div className=\"card-header\">{(!board.title ? 'Без Заголовка' : board.title)}</div>\r\n                </div>\r\n\r\n                <div className=\"card-body\"\r\n                    onDragOver={(e) => { dragOverHandler(e) }}\r\n                    onDrop={(e) => { dropCardHandler(e, board) }}\r\n                >\r\n                    {<Item\r\n                        props={props} delTodo={delTodo}\r\n                    />}\r\n                </div>\r\n                <span className=\"badge bg-danger\" onClick={e => delBoard(board)}>DelBoard</span>\r\n\r\n            </div>\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default Board"],"mappings":"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"},"metadata":{},"sourceType":"module"}