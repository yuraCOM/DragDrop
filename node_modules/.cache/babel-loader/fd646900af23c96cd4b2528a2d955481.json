{"ast":null,"code":"var _jsxFileName = \"E:\\\\REACT\\\\DragDrop\\\\src\\\\AddMyTrello\\\\Item.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Item = props => {\n  // console.log('Item', props);\n  props = props.props;\n  let board = props.board;\n\n  function dragStartHandler(e, board, item) {\n    console.log(item);\n    props.setCurrentBoard(board);\n    props.setCureentItem(item);\n  }\n\n  function dragOverHandler(e) {\n    e.preventDefault();\n\n    if (e.target.className === \"item\") {\n      e.target.style.boxShadow = '0 5px 3px #673ab7 ';\n    }\n  }\n\n  function dragLeaveHandler(e) {\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dragEndHandler(e) {\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dropHandler(e, board, item) {\n    e.preventDefault();\n    e.stopPropagation(); // индекс карточки которую держим\n\n    const currentIndex = props.currentBoard.items.indexOf(props.cureentItem);\n    props.currentBoard.items.splice(currentIndex, 1);\n    console.log('props.currentBoard', props.currentBoard.items);\n    console.log('currentIndex', currentIndex); //индекс карточки над которой держим \n\n    const dropIndex = board.items.indexOf(item);\n    console.log('dropIndex', dropIndex);\n    board.items.splice(dropIndex + 1, 0, props.cureentItem);\n    props.setBoards(props.boards.map(b => {\n      if (b.id === board.id) {\n        return board;\n      }\n\n      if (b.id === props.currentBoard.id) {\n        return props.currentBoard;\n      }\n\n      return b;\n    }));\n    e.target.style.boxShadow = 'none';\n  }\n\n  return board.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-dismissible alert-success\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn-close\",\n        \"data-bs-dismiss\": \"alert\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        draggable: true,\n        onDragStart: e => {\n          dragStartHandler(e, board, item);\n        },\n        onDragOver: e => {\n          dragOverHandler(e);\n        },\n        onDragLeave: e => {\n          dragLeaveHandler(e);\n        },\n        onDragEnd: e => {\n          dragEndHandler(e);\n        },\n        onDrop: e => {\n          dropHandler(e, board, item);\n        },\n        children: item.title\n      }, index + \"i\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 13\n  }, this));\n};\n\n_c = Item;\nexport default Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["React","Item","props","board","dragStartHandler","e","item","console","log","setCurrentBoard","setCureentItem","dragOverHandler","preventDefault","target","className","style","boxShadow","dragLeaveHandler","dragEndHandler","dropHandler","stopPropagation","currentIndex","currentBoard","items","indexOf","cureentItem","splice","dropIndex","setBoards","boards","map","b","id","index","title"],"sources":["E:/REACT/DragDrop/src/AddMyTrello/Item.jsx"],"sourcesContent":["import React from 'react'\r\n\r\nconst Item = (props) => {\r\n    // console.log('Item', props);\r\n\r\n    props = props.props\r\n    let board = props.board\r\n\r\n    function dragStartHandler(e, board, item) {\r\n        console.log(item);\r\n        props.setCurrentBoard(board)\r\n        props.setCureentItem(item)\r\n    }\r\n\r\n    function dragOverHandler(e) {\r\n        e.preventDefault()\r\n        if (e.target.className === \"item\") {\r\n            e.target.style.boxShadow = '0 5px 3px #673ab7 '\r\n        }\r\n    }\r\n\r\n    function dragLeaveHandler(e) {\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dragEndHandler(e) {\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dropHandler(e, board, item) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // индекс карточки которую держим\r\n        const currentIndex = props.currentBoard.items.indexOf(props.cureentItem)\r\n        props.currentBoard.items.splice(currentIndex, 1)\r\n\r\n        console.log('props.currentBoard', props.currentBoard.items);\r\n        console.log('currentIndex', currentIndex);\r\n\r\n        //индекс карточки над которой держим \r\n        const dropIndex = board.items.indexOf(item)\r\n        console.log('dropIndex', dropIndex);\r\n        board.items.splice(dropIndex + 1, 0, props.cureentItem)\r\n\r\n        props.setBoards(props.boards.map(b => {\r\n            if (b.id === board.id) {\r\n                return board\r\n            }\r\n            if (b.id === props.currentBoard.id) {\r\n                return props.currentBoard\r\n            }\r\n            return b\r\n        }\r\n        ))\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    return (\r\n        board.items.map((item, index) =>\r\n            <div>\r\n                {/* <div\r\n                    className=\"item\"\r\n                    key={index + \"i\"}\r\n                    draggable={true}\r\n                    onDragStart={(e) => { dragStartHandler(e, board, item) }}\r\n                    onDragOver={(e) => { dragOverHandler(e) }}\r\n                    onDragLeave={(e) => { dragLeaveHandler(e) }}\r\n                    onDragEnd={(e) => { dragEndHandler(e) }}\r\n                    onDrop={(e) => { dropHandler(e, board, item) }}\r\n                >{item.title}\r\n                </div> */}\r\n\r\n                <div className=\"alert alert-dismissible alert-success\">\r\n                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n                    <div\r\n                        className=\"item\"\r\n                        key={index + \"i\"}\r\n                        draggable={true}\r\n                        onDragStart={(e) => { dragStartHandler(e, board, item) }}\r\n                        onDragOver={(e) => { dragOverHandler(e) }}\r\n                        onDragLeave={(e) => { dragLeaveHandler(e) }}\r\n                        onDragEnd={(e) => { dragEndHandler(e) }}\r\n                        onDrop={(e) => { dropHandler(e, board, item) }}\r\n                    >{item.title}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    )\r\n}\r\n\r\nexport default Item"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;EACpB;EAEAA,KAAK,GAAGA,KAAK,CAACA,KAAd;EACA,IAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;;EAEA,SAASC,gBAAT,CAA0BC,CAA1B,EAA6BF,KAA7B,EAAoCG,IAApC,EAA0C;IACtCC,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACAJ,KAAK,CAACO,eAAN,CAAsBN,KAAtB;IACAD,KAAK,CAACQ,cAAN,CAAqBJ,IAArB;EACH;;EAED,SAASK,eAAT,CAAyBN,CAAzB,EAA4B;IACxBA,CAAC,CAACO,cAAF;;IACA,IAAIP,CAAC,CAACQ,MAAF,CAASC,SAAT,KAAuB,MAA3B,EAAmC;MAC/BT,CAAC,CAACQ,MAAF,CAASE,KAAT,CAAeC,SAAf,GAA2B,oBAA3B;IACH;EACJ;;EAED,SAASC,gBAAT,CAA0BZ,CAA1B,EAA6B;IACzBA,CAAC,CAACQ,MAAF,CAASE,KAAT,CAAeC,SAAf,GAA2B,MAA3B;EACH;;EAED,SAASE,cAAT,CAAwBb,CAAxB,EAA2B;IACvBA,CAAC,CAACQ,MAAF,CAASE,KAAT,CAAeC,SAAf,GAA2B,MAA3B;EACH;;EAED,SAASG,WAAT,CAAqBd,CAArB,EAAwBF,KAAxB,EAA+BG,IAA/B,EAAqC;IACjCD,CAAC,CAACO,cAAF;IACAP,CAAC,CAACe,eAAF,GAFiC,CAGjC;;IACA,MAAMC,YAAY,GAAGnB,KAAK,CAACoB,YAAN,CAAmBC,KAAnB,CAAyBC,OAAzB,CAAiCtB,KAAK,CAACuB,WAAvC,CAArB;IACAvB,KAAK,CAACoB,YAAN,CAAmBC,KAAnB,CAAyBG,MAAzB,CAAgCL,YAAhC,EAA8C,CAA9C;IAEAd,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCN,KAAK,CAACoB,YAAN,CAAmBC,KAArD;IACAhB,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4Ba,YAA5B,EARiC,CAUjC;;IACA,MAAMM,SAAS,GAAGxB,KAAK,CAACoB,KAAN,CAAYC,OAAZ,CAAoBlB,IAApB,CAAlB;IACAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBmB,SAAzB;IACAxB,KAAK,CAACoB,KAAN,CAAYG,MAAZ,CAAmBC,SAAS,GAAG,CAA/B,EAAkC,CAAlC,EAAqCzB,KAAK,CAACuB,WAA3C;IAEAvB,KAAK,CAAC0B,SAAN,CAAgB1B,KAAK,CAAC2B,MAAN,CAAaC,GAAb,CAAiBC,CAAC,IAAI;MAClC,IAAIA,CAAC,CAACC,EAAF,KAAS7B,KAAK,CAAC6B,EAAnB,EAAuB;QACnB,OAAO7B,KAAP;MACH;;MACD,IAAI4B,CAAC,CAACC,EAAF,KAAS9B,KAAK,CAACoB,YAAN,CAAmBU,EAAhC,EAAoC;QAChC,OAAO9B,KAAK,CAACoB,YAAb;MACH;;MACD,OAAOS,CAAP;IACH,CARe,CAAhB;IAUA1B,CAAC,CAACQ,MAAF,CAASE,KAAT,CAAeC,SAAf,GAA2B,MAA3B;EACH;;EAED,OACIb,KAAK,CAACoB,KAAN,CAAYO,GAAZ,CAAgB,CAACxB,IAAD,EAAO2B,KAAP,kBACZ;IAAA,uBAaI;MAAK,SAAS,EAAC,uCAAf;MAAA,wBACI;QAAQ,IAAI,EAAC,QAAb;QAAsB,SAAS,EAAC,WAAhC;QAA4C,mBAAgB;MAA5D;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QACI,SAAS,EAAC,MADd;QAGI,SAAS,EAAE,IAHf;QAII,WAAW,EAAG5B,CAAD,IAAO;UAAED,gBAAgB,CAACC,CAAD,EAAIF,KAAJ,EAAWG,IAAX,CAAhB;QAAkC,CAJ5D;QAKI,UAAU,EAAGD,CAAD,IAAO;UAAEM,eAAe,CAACN,CAAD,CAAf;QAAoB,CAL7C;QAMI,WAAW,EAAGA,CAAD,IAAO;UAAEY,gBAAgB,CAACZ,CAAD,CAAhB;QAAqB,CAN/C;QAOI,SAAS,EAAGA,CAAD,IAAO;UAAEa,cAAc,CAACb,CAAD,CAAd;QAAmB,CAP3C;QAQI,MAAM,EAAGA,CAAD,IAAO;UAAEc,WAAW,CAACd,CAAD,EAAIF,KAAJ,EAAWG,IAAX,CAAX;QAA6B,CARlD;QAAA,UASEA,IAAI,CAAC4B;MATP,GAESD,KAAK,GAAG,GAFjB;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA;EAbJ;IAAA;IAAA;IAAA;EAAA,QADJ,CADJ;AAkCH,CAzFD;;KAAMhC,I;AA2FN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}