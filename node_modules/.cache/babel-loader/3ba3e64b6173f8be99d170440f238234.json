{"ast":null,"code":"import _slicedToArray from\"C:/Users/Yura/Documents/GitHub/DragDrop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Item from'./Item';import AddModalTodo from'./ModalAddTodo/AddModalTodo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Board=function Board(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),TodoModal=_useState2[0],setTodoModal=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),todo=_useState4[0],setTodo=_useState4[1];var board=props.board;var currentBoard=props.currentBoard;var cureentItem=props.cureentItem;var boards=props.boards;var setBoards=props.setBoards;function dropCardHandler(e,board){board.items.push(cureentItem);var currentIndex=currentBoard.items.indexOf(cureentItem);// console.log('board', board, 'cureentItem', cureentItem, 'currentBoard', currentBoard);\n// console.log(currentIndex);\ncurrentBoard.items.splice(currentIndex,1);setBoards(boards.map(function(b){if(b.id===board.id){return board;}if(b.id===currentBoard.id){return currentBoard;}return b;}));e.target.style.boxShadow='none';}function dragOverHandler(e){e.preventDefault();if(e.target.className===\"item\"){e.target.style.boxShadow='0 5px 3px #673ab7 ';}}function delBoard(board){var del=window.confirm(\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0434\\u043E\\u0441\\u043A\\u0443: \".concat(board.title,\"?!\"));if(del){var currentIndex=boards.indexOf(board);boards.splice(currentIndex,1);setBoards(boards.map(function(b){return b;}));}}function addTodo(){if(todo){board.items.push(todo);}else{return false;}setTodoModal(false);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddModalTodo,{TodoModal:TodoModal,setTodoModal:setTodoModal,todo:todo,setTodo:setTodo,addTodo:addTodo}),/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-\".concat(board.background,\" mb-3\"),style:{maxWidth:'20rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headCard\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-pill bg-success\",onClick:function onClick(){return setTodoModal(true);},children:\"+Todo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:!board.title?'Без Заголовка':board.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",onDragOver:function onDragOver(e){dragOverHandler(e);},onDrop:function onDrop(e){dropCardHandler(e,board);},children:/*#__PURE__*/_jsx(Item,{props:props})}),/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger\",onClick:function onClick(e){return delBoard(board);},children:\"DelBoard\"})]})]});};export default Board;","map":{"version":3,"names":["React","useState","Item","AddModalTodo","Board","props","TodoModal","setTodoModal","todo","setTodo","board","currentBoard","cureentItem","boards","setBoards","dropCardHandler","e","items","push","currentIndex","indexOf","splice","map","b","id","target","style","boxShadow","dragOverHandler","preventDefault","className","delBoard","del","window","confirm","title","addTodo","background","maxWidth"],"sources":["C:/Users/Yura/Documents/GitHub/DragDrop/src/AddMyTrello/Board.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Item from './Item'\r\nimport AddModalTodo from './ModalAddTodo/AddModalTodo'\r\n\r\n\r\nconst Board = (props) => {\r\n\r\n    const [TodoModal, setTodoModal] = useState(false)\r\n    const [todo, setTodo] = useState(null)\r\n\r\n    let board = props.board\r\n    let currentBoard = props.currentBoard\r\n\r\n    let cureentItem = props.cureentItem\r\n    let boards = props.boards\r\n    let setBoards = props.setBoards\r\n\r\n\r\n    function dropCardHandler(e, board) {\r\n        board.items.push(cureentItem)\r\n        const currentIndex = currentBoard.items.indexOf(cureentItem)\r\n        // console.log('board', board, 'cureentItem', cureentItem, 'currentBoard', currentBoard);\r\n        // console.log(currentIndex);\r\n        currentBoard.items.splice(currentIndex, 1)\r\n        setBoards(boards.map(b => {\r\n            if (b.id === board.id) {\r\n                return board\r\n            }\r\n            if (b.id === currentBoard.id) {\r\n                return currentBoard\r\n            }\r\n            return b\r\n        }\r\n        ))\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dragOverHandler(e) {\r\n        e.preventDefault()\r\n        if (e.target.className === \"item\") {\r\n            e.target.style.boxShadow = '0 5px 3px #673ab7 '\r\n        }\r\n    }\r\n\r\n    function delBoard(board) {\r\n        let del = window.confirm(`Удалить доску: ${board.title}?!`);\r\n        if (del) {\r\n            const currentIndex = boards.indexOf(board)\r\n            boards.splice(currentIndex, 1)\r\n            setBoards(boards.map(b => {\r\n                return b\r\n            }\r\n            ))\r\n        }\r\n    }\r\n\r\n    function addTodo() {\r\n        if (todo) {\r\n            board.items.push(todo)\r\n        } else {\r\n            return false\r\n        }\r\n        setTodoModal(false)\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <AddModalTodo TodoModal={TodoModal} setTodoModal={setTodoModal}\r\n                todo={todo} setTodo={setTodo} addTodo={addTodo}\r\n            ></AddModalTodo>\r\n\r\n            <div className={`card text-white bg-${board.background} mb-3`}\r\n                style={{ maxWidth: '20rem' }}\r\n            >\r\n                <div className='headCard'>\r\n                    <span className=\"badge rounded-pill bg-success\" onClick={() => setTodoModal(true)}>+Todo</span>\r\n                    <div className=\"card-header\">{(!board.title ? 'Без Заголовка' : board.title)}</div>\r\n                </div>\r\n\r\n                <div className=\"card-body\"\r\n                    onDragOver={(e) => { dragOverHandler(e) }}\r\n                    onDrop={(e) => { dropCardHandler(e, board) }}\r\n                >\r\n                    {<Item\r\n                        props={props}\r\n                    />}\r\n                </div>\r\n                <span className=\"badge bg-danger\" onClick={e => delBoard(board)}>DelBoard</span>\r\n\r\n            </div>\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default Board"],"mappings":"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"},"metadata":{},"sourceType":"module"}