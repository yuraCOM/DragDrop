{"ast":null,"code":"var _jsxFileName = \"E:\\\\REACT\\\\DragDrop\\\\src\\\\AddMyTrello\\\\Item.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Item = props => {\n  // console.log('Item', props);\n  props = props.props;\n  let board = props.board; // console.log(board);\n\n  function dragStartHandler(e, board, item) {\n    console.log('item', item.id);\n    console.log(board);\n    props.setCurrentBoard(board);\n    props.setCureentItem(item);\n  }\n\n  function dragOverHandler(e) {\n    e.preventDefault();\n\n    if (e.target.classList.contains(\"item\")) {\n      e.target.style.boxShadow = '0 15px 3px #ff5722 ';\n    }\n  }\n\n  function dragLeaveHandler(e) {\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dragEndHandler(e) {\n    e.target.style.boxShadow = 'none';\n  }\n\n  function dropHandler(e, board, item) {\n    e.preventDefault();\n    e.stopPropagation(); // индекс карточки которую держим\n\n    const currentIndex = props.currentBoard.items.indexOf(props.cureentItem); // console.log('item', item);\n\n    props.currentBoard.items.splice(currentIndex, 1); //индекс карточки над которой держим \n\n    const dropIndex = board.items.indexOf(item);\n    board.items.splice(dropIndex + 1, 0, props.cureentItem); // props.setBoards(props.boards.map(b => {\n    //     if (b.id === board.id) {\n    //         return board\n    //     }\n    //     if (b.id === props.currentBoard.id) {\n    //         return props.currentBoard\n    //     }\n    //     return b\n    // }\n    // ))\n\n    let freshBoards = props.boards;\n    console.log(freshBoards);\n    props.setBoards(freshBoards);\n    let data = JSON.stringify(props.boards);\n    localStorage.setItem('boards', data);\n    console.log('set local store', localStorage.getItem('boards'));\n    e.target.style.boxShadow = 'none';\n  }\n\n  function delTodo(e, board, item) {\n    // console.log(e.target, board, item);\n    // console.log(item.id);\n    // console.log(board.items);\n    //индекс удаленного дела\n    const todoIndex = board.items.indexOf(item);\n    console.log(todoIndex);\n    board.items.splice(todoIndex, 1);\n    console.log(board);\n    console.log('props.boards', props.boards);\n    let freshBoards = props.boards;\n    console.log(freshBoards);\n    props.setBoards(freshBoards);\n    let data = JSON.stringify(props.boards);\n    localStorage.setItem('boards', data);\n    console.log('set local store', localStorage.getItem('boards'));\n  }\n\n  return board.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-dismissible alert-secondary item\",\n    draggable: true,\n    onDragStart: e => {\n      dragStartHandler(e, board, item);\n    },\n    onDragOver: e => {\n      dragOverHandler(e);\n    },\n    onDragLeave: e => {\n      dragLeaveHandler(e);\n    },\n    onDragEnd: e => {\n      dragEndHandler(e);\n    },\n    onDrop: e => {\n      dropHandler(e, board, item);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"btn-close\",\n      \"data-bs-dismiss\": \"alert\",\n      onClick: e => {\n        delTodo(e, board, item);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this), item.title]\n  }, index + \"i\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 13\n  }, this));\n};\n\n_c = Item;\nexport default Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["React","Item","props","board","dragStartHandler","e","item","console","log","id","setCurrentBoard","setCureentItem","dragOverHandler","preventDefault","target","classList","contains","style","boxShadow","dragLeaveHandler","dragEndHandler","dropHandler","stopPropagation","currentIndex","currentBoard","items","indexOf","cureentItem","splice","dropIndex","freshBoards","boards","setBoards","data","JSON","stringify","localStorage","setItem","getItem","delTodo","todoIndex","map","index","title"],"sources":["E:/REACT/DragDrop/src/AddMyTrello/Item.jsx"],"sourcesContent":["import React from 'react'\r\n\r\nconst Item = (props) => {\r\n    // console.log('Item', props);\r\n\r\n    props = props.props\r\n    let board = props.board\r\n    // console.log(board);\r\n\r\n    function dragStartHandler(e, board, item) {\r\n        console.log('item', item.id);\r\n        console.log(board);\r\n        props.setCurrentBoard(board)\r\n        props.setCureentItem(item)\r\n    }\r\n\r\n    function dragOverHandler(e) {\r\n        e.preventDefault()\r\n        if (e.target.classList.contains(\"item\")) {\r\n            e.target.style.boxShadow = '0 15px 3px #ff5722 '\r\n        }\r\n    }\r\n\r\n    function dragLeaveHandler(e) {\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dragEndHandler(e) {\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function dropHandler(e, board, item) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // индекс карточки которую держим\r\n        const currentIndex = props.currentBoard.items.indexOf(props.cureentItem)\r\n        // console.log('item', item);\r\n        props.currentBoard.items.splice(currentIndex, 1)\r\n        //индекс карточки над которой держим \r\n        const dropIndex = board.items.indexOf(item)\r\n        board.items.splice(dropIndex + 1, 0, props.cureentItem)\r\n\r\n        // props.setBoards(props.boards.map(b => {\r\n        //     if (b.id === board.id) {\r\n        //         return board\r\n        //     }\r\n        //     if (b.id === props.currentBoard.id) {\r\n        //         return props.currentBoard\r\n        //     }\r\n        //     return b\r\n        // }\r\n        // ))\r\n\r\n        let freshBoards = props.boards\r\n        console.log(freshBoards);\r\n        props.setBoards(freshBoards)\r\n\r\n        let data = JSON.stringify(props.boards);\r\n        localStorage.setItem('boards', data);\r\n        console.log('set local store', localStorage.getItem('boards'));\r\n\r\n        e.target.style.boxShadow = 'none'\r\n    }\r\n\r\n    function delTodo(e, board, item) {\r\n        // console.log(e.target, board, item);\r\n        // console.log(item.id);\r\n        // console.log(board.items);\r\n\r\n        //индекс удаленного дела\r\n        const todoIndex = board.items.indexOf(item)\r\n        console.log(todoIndex);\r\n        board.items.splice(todoIndex, 1)\r\n        console.log(board);\r\n        console.log('props.boards', props.boards);\r\n\r\n        let freshBoards = props.boards\r\n        console.log(freshBoards);\r\n        props.setBoards(freshBoards)\r\n\r\n\r\n        let data = JSON.stringify(props.boards);\r\n        localStorage.setItem('boards', data);\r\n        console.log('set local store', localStorage.getItem('boards'));\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        board.items.map((item, index) =>\r\n\r\n            <div className=\"alert alert-dismissible alert-secondary item\"\r\n                key={index + \"i\"}\r\n                draggable={true}\r\n                onDragStart={(e) => { dragStartHandler(e, board, item) }}\r\n                onDragOver={(e) => { dragOverHandler(e) }}\r\n                onDragLeave={(e) => { dragLeaveHandler(e) }}\r\n                onDragEnd={(e) => { dragEndHandler(e) }}\r\n                onDrop={(e) => { dropHandler(e, board, item) }}>\r\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\"\r\n                    onClick={(e) => { delTodo(e, board, item) }}></button>\r\n\r\n                {item.title}\r\n            </div>\r\n\r\n        )\r\n    )\r\n}\r\n\r\nexport default Item"],"mappings":"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"},"metadata":{},"sourceType":"module"}